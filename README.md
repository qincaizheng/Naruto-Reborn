#### 项目介绍
- 本项目是一个Minecraftmod，加载器是neoforge，版本是1.21.1
- mod的主题是火影忍者
- mod的开发环境是java21，使用IntelliJ IDEA开发
- 下面介绍将按模块进行介绍
- 开发注意：保持Java 21、NeoForge 1.21.1 的构建配置；代码/文档变更需同步更新本 README 与 TODO

#### 忍术
##### 获取
- （待实现）可通过任务/等级解锁或指令授予，需在后续实现时补充

##### 使用
按键使用：
- F（触发当前快捷忍术；联机时由客户端发包给服务器执行，避免客户端自嗨）

指令使用：
- /ninjutsu use <忍术名称> <威力>（服务器侧执行：校验解锁状态、威力上下限、查克拉消耗与冷却）

##### 结构介绍
忍术放在单独的文件夹 ninjutsu下，具体的忍术按遁术类型放入单独的子文件夹，比如火遁：ninjutsu/katon
###### Ininjutsu
    use方法：使用忍术
    getPower方法：忍术的威力
    setPower方法：设置忍术的威力
    getRange方法：忍术的范围
    getCost方法：忍术的消耗
    setCost方法：设置忍术的消耗
    getCooldown方法：忍术的冷却时间
    setCooldown方法：设置忍术的冷却时间
    getDisplayName方法：忍术的显示名称
    getIcon方法：忍术的图标
    getTooltip方法：忍术的提示信息
    getCategory方法：忍术的类别
    getMaxPower方法：忍术的最大威力
    getMinPower方法：忍术的最小威力
    getRequiredLevel方法：忍术所需的等级
    getUnlocked方法：忍术是否解锁
    getEnabled方法：忍术是否启用
    getDuration方法：忍术的持续时间

###### 忍术容器
- 类似 item/itemstack 的组合：忍术本身是单例，状态放在容器里
- 包含：忍术ID、解锁/启用标记、当前威力(含最小/最大约束)、查克拉消耗、冷却截止tick、剩余持续时间、拥有者UUID/实体ID、客户端展示缓存(显示名/图标/提示)
- 行为：use/服务器侧校验 → 写入冷却与持续时间；每tick 更新持续效果/粒子；可查询“是否可用/是否在冷却中”
- 序列化/网络：支持保存到 Data Attachment、同步到客户端；需要区分“静态配置”(威力上下限等)与“运行态”(冷却、剩余持续时间)
- 可存放在忍者数据中；快捷忍术引用容器实例或ID

##### 具体忍术
- 火遁
  - 豪火球之术 ：发射一个火球，造成范围伤害并点燃敌人，显示爆炸粒子但不破坏方块；需设定范围、冷却、查克拉消耗与威力上限/下限

#### 数据存储
- 核心字段：等级/经验，查克拉(当前值、最大值、回复速率)，忍术容器列表，快捷忍术槽(指向容器ID)，冷却/持续时间状态随容器同步

##### Data Attachments
###### 忍者数据
- 忍者等级与经验（未来可加“升级所需经验曲线”）
- 查克拉：当前值、最大值、自然回复速率；支持增减与上限变更
- 忍术容器列表：含解锁状态、威力上下限、自定义开关、运行态（冷却截止tick、剩余持续时间等）
- 快捷忍术列表：F 键槽位 → 容器 ID / 忍术 ID 映射
- （可选）冷却索引：按忍术 ID 记录下一次可用 tick，冗余于容器运行态时可去除
- 附注：Data Attachment 可声明序列化、网络同步、死亡时自动同步；当前实现已使用可序列化附件保存上述字段

##### 忍者数据处理 Handler（替代 Capabilities）
- 定义接口（类似 Capabilities API），提供获取/设置：等级与经验、查克拉（当前/最大/回复）、忍术容器列表、快捷忍术槽、冷却状态
- 默认实现基于 Data Attachment 作为数据真源；若未来切换正式 Capability，可复用接口
- Handler 负责：
  - 从附件读取/写入数据，维护服务端权威
  - 统一 API 供指令、按键、实体事件调用
  - 触发必要的客户端同步（查克拉、冷却、快捷栏展示），避免客户端自嗨

#### 指令
##### 忍术管理
- /ninjutsu learn <忍术名称>（服务器侧执行：校验解锁条件、添加容器与快捷槽）
- /ninjutsu forget <忍术名称>（服务器侧执行：校验拥有条件、移除容器与快捷槽）
- /ninjutsu unlock <忍术名称>（服务器侧执行：校验拥有条件、解锁容器）
- /ninjutsu lock <忍术名称>（服务器侧执行：校验拥有条件、锁定容器）
- /ninjutsu enable <忍术名称>（服务器侧执行：校验拥有条件、启用容器）
- /ninjutsu disable <忍术名称>（服务器侧执行：校验拥有条件、禁用容器）
- /ninjutsu quickbar <忍术名称>（服务器侧执行：校验拥有条件、添加到快捷栏）
- /ninjutsu remove <忍术名称>（服务器侧执行：校验拥有条件、从快捷栏移除）
##### 忍者数据管理
- /narutoreborn level <等级>（服务器侧执行：校验权限、设置等级）
- /narutoreborn maxchakra <值>（服务器侧执行：校验权限、设置查克拉）
- /narutoreborn chakra <值>（服务器侧执行：校验权限、设置查克拉）
- /narutoreborn experience <值>（服务器侧执行：校验权限、设置经验）
- /narutoreborn reset（服务器侧执行：校验权限、重置所有数据）

